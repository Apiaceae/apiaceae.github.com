
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>虎克的博客</title>
  <meta name="author" content="Hooker">

  
  <meta name="description" content="UBuntu中增加中文字符编码的方法 在Widnows XP下的FTP服务器中有中文文件名，今天使用ftp命令，发现不能显示中文文件名，只能显示????。于是到网上查了一些资料，也没有找到好的解决方法，只是有人说使用图形化的ftp工具 gftp，安装方法：sudo apt-get install &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://Apiaceae.github.io/blog/page/5">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="虎克的博客" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

<script type="text/javascript">

function addBlankTargetForLinks () {

  $('a[href^="http"]').each(function(){

      $(this).attr('target', '_blank');

  });

}

$(document).bind('DOMNodeInserted', function(event) {

  addBlankTargetForLinks();

});

</script>

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">虎克的博客</a></h1>
  
    <h2>Enthusiasm Biogeography-Biodiversity Informatics-Data Sciences</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:Apiaceae.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/tag-cloud/">Tags</a></li>
  <li><a href="/about/">About me</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/12/21/ubuntue4b8ade5a29ee58aa0e4b8ade69687e5ad97e7aca6e7bc96e7a081e79a84e696b9e6b395/">UBuntu中增加中文字符编码的方法</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-12-21T00:00:00+08:00" pubdate data-updated="true">Dec 21<span>st</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>UBuntu中增加中文字符编码的方法</p>  <p>在Widnows XP下的FTP服务器中有中文文件名，今天使用ftp命令，发现不能显示中文文件名，只能显示????。于是到网上查了一些资料，也没有找到好的解决方法，只是有人说使用图形化的ftp工具 gftp，安装方法：sudo apt-get install gftp，另外还要增加中文字符编码zh_CN.GBK即可即可。在这里总结一下Ubuntu下增加中文字符编码的方法。   <br />一. Ubuntu默认的中文字符编码    <br />Ubuntu默认的中文字符编码为zh_CN.UTF-8，这个可以在/etc/environment中看到：    <br />sudo gedit /etc/environment    <br />可以看到如下内容：    <br />PATH=&quot;/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games&quot;    <br />LANG=&quot;zh_CN.UTF-8&quot;    <br />LANGUAGE=&quot;zh_CN:zh:en_US:en&quot;    <br />第二行即是默认的中文字符编码。注：可以通过这里修改默认的中文编码字符，比如修改为：zh_CN.GBK。</p>  <p>二. 添加中文字符编码的方法   <br />1. 直接使用locale-gen    <br />在超级终端输入命令：    <br />sudo locale-gen zh_CN.GB18030    <br />即可完成中文字符集的添加。完成后可以转到/usr/lib/locale/，下面已经有一个zh_CN.gb18030文件夹；在超级终端输入命令：gedit /var/lib/locales/supported.d/local，可以发现文件中多了一行：zh_CN.GB18030 GB18030。说明添加成功。</p>  <p>2. 通过修改/var/lib/locales/supported.d/local文件   <br />在终端输入命令行    <br />sudo gedit /var/lib/locales/supported.d/local    <br />可以看到如下内容：    <br />zh_CN.UTF-8 UTF-8    <br />en_US.UTF-8 UTF-8    <br />在文件尾添加中文字符集    <br />zh_CN.GBK GBK    <br />保存后退出。在超级终端输入命令：    <br />sudo dpkg-reconfigure locales</p>  <p>Generating locales&#8230;   <br />en_AU.UTF-8&#8230; done    <br />en_BW.UTF-8&#8230; done    <br />en_CA.UTF-8&#8230; done    <br />en_DK.UTF-8&#8230; done    <br />en_GB.UTF-8&#8230; done    <br />en_HK.UTF-8&#8230; done    <br />en_IE.UTF-8&#8230; done    <br />en_IN.UTF-8&#8230; done    <br />en_NZ.UTF-8&#8230; done    <br />en_PH.UTF-8&#8230; done    <br />en_SG.UTF-8&#8230; done    <br />en_US.UTF-8&#8230; done    <br />en_ZA.UTF-8&#8230; done    <br />en_ZW.UTF-8&#8230; done    <br />zh_CN.GBK&#8230; done    <br />zh_CN.UTF-8&#8230; up-to-date    <br />zh_HK.UTF-8&#8230; done    <br />zh_SG.UTF-8&#8230; done    <br />zh_TW.UTF-8&#8230; done    <br />Generation complete.</p>  <p>即可生成相应文件：/usr/lib/locale/zh_CN.gbk/   <br />注：也可使用locale-gen</p>  <p>＋＋＋＋＋＋＋＋＋＋＋＋＋＋＋＋＋＋＋   <br />Ubuntu 默认采用UTF8编码，可以方便global。但对中文支持，还不细致，即便默认采用中文安装，也并不会自动添加GB＊等支持，致使在Ubuntu下访问部分Win文本文件时，出现乱码。</p>  <p>I. 配置系统环境   <br />执行 sudo vi /var/lib/locales/supported.d/zh    <br />加入以下配置参数</p>  <p>zh_CN.GB18030 GB18030 (最新汉字编码字符集，向下兼容GBK,GB2312)   <br />zh_CN.GBK GBK (汉字扩展编码,向下兼容GB2312, 并包含BIG5全部汉字)    <br />zh_CN.GB2312 GB2312 (简化汉字编码字符集, 最近有客户要我们改进GB2312,太看得起我们了，我只能说:&quot;NO!&quot;)    <br />zh_CN.GB18031 GB18031 (数字键盘汉字编码输入,面向手持设备，我的Nokia3120从来就是发短信，接听电话，无法和PC通讯，就不用这个了。 maybe用Google Android SDK的大侠们需要这个)    <br />zh_HK.BIG5 BIG5 (繁体)    <br />zh_TW.BIG5 BIG5 (繁体)</p>  <p>然后执行 sudo locale-gen   <br />提示以下信息，成功了    <br />zh_CN.GB18030&#8230; done    <br />zh_CN.GBK&#8230; done    <br />&#8230;&#8230;</p>  <p>II. 系统环境支持GB*内码了，但用vi, gedit等工具访问文件还会继续乱码，需要针对不同的工具分别配置，使之自己检测支持范围内的编码   <br />e.g. vi    <br />执行 sudo vi /etc/vim/vimrc    <br />加入以下配置参数    <br />let &amp;termencoding=&amp;encoding    <br />set fileencodings=utf-8,gb18030,gbk,gb2312,big5</p>  <p>e.g. gedit   <br />执行 gconf-editor    <br />选择 apps/gedit-2/preferences/encodings    <br />找到 auto_detected 编辑，在Values中分别加入 GB18030,GBK,GB2312,BIG5</p>  <p>OK~</p>  <p>感谢lec的支援。   <br />enca工具很方便，用于检测文件内码（前提是系统环境支持，如，环境不支持BIG5，是无法检测的，这个晕了我许久）    <br />安装 sudo apt-get install enca    <br />用法 enca filename    <br />+++++++++++++++++++++++++++++++++++    <br />1.编辑/var/lib/locales/supported.d/*    <br />格式参考 /usr/share/i18n/SUPPORTED    <br />vi /var/lib/locales/supported.d/local    <br />vi /var/lib/locales/supported.d/zh    <br />vi /var/lib/locales/supported.d/en</p>  <p>如：   <br />more /var/lib/locales/supported.d/local    <br />zh_CN.UTF-8 UTF-8    <br />en_US.UTF-8 UTF-8    <br />zh_CN.GB18030 GB18030</p>  <p>2.生成locale(自动保存在/usr/lib/locale/中)   <br />locale-gen</p>  <p>3.修改locale   <br />vi /etc/environment    <br />把    <br />LANG=&quot;zh_CN.UTF-8&quot;    <br />改成    <br />LANG=&quot;zh_CN.GB18030&quot;</p>  <p>more /etc/environment   <br />PATH=&quot;/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/bin/X11:    <br />/usr/games&quot;    <br />#LANG=&quot;zh_CN.UTF-8&quot;    <br />LANG=&quot;zh_CN.GB18030&quot;    <br />LANGUAGE=&quot;zh_CN:zh:en_US:en&quot;    <br />CLASSPATH=.:/usr/lib/jvm/java-1.5.0-sun/lib    <br />JAVA_HOME=/usr/lib/jvm/java-1.5.0-sun</p>  <p>4.重新启动或切换下运行级别,查看locale   <br />root@1006:~# locale    <br />LANG=zh_CN.GB18030    <br />LANGUAGE=zh_CN:zh:en_US:en    <br />LC_CTYPE=&quot;zh_CN.GB18030&quot;    <br />LC_NUMERIC=&quot;zh_CN.GB18030&quot;    <br />LC_TIME=&quot;zh_CN.GB18030&quot;    <br />LC_COLLATE=&quot;zh_CN.GB18030&quot;    <br />LC_MONETARY=&quot;zh_CN.GB18030&quot;    <br />LC_MESSAGES=&quot;zh_CN.GB18030&quot;    <br />LC_PAPER=&quot;zh_CN.GB18030&quot;    <br />LC_NAME=&quot;zh_CN.GB18030&quot;    <br />LC_ADDRESS=&quot;zh_CN.GB18030&quot;    <br />LC_TELEPHONE=&quot;zh_CN.GB18030&quot;    <br />LC_MEASUREMENT=&quot;zh_CN.GB18030&quot;    <br />LC_IDENTIFICATION=&quot;zh_CN.GB18030&quot;    <br />LC_ALL=</p>  <p>5.登陆界面的选项里   <br />默认语言也要相应改选成 zh_CN.GB18030,这样ubuntu就完全被中文化了，zh_CN.GB18030是目前最标准国家强制要求的中文编码</p>  <p>原文地址：<a title="http://ihipop.info/2009/06/85.html" href="http://ihipop.info/2009/06/85.html">http://ihipop.info/2009/06/85.html</a></p>
<p class='post-footer'>
       original link:
       <a href='http://Apiaceae.github.io/blog/2010/12/21/ubuntue4b8ade5a29ee58aa0e4b8ade69687e5ad97e7aca6e7bc96e7a081e79a84e696b9e6b395/'>http://Apiaceae.github.io/blog/2010/12/21/ubuntue4b8ade5a29ee58aa0e4b8ade69687e5ad97e7aca6e7bc96e7a081e79a84e696b9e6b395/</a><br/>
       &nbsp;written by <a href='http://Apiaceae.github.io'>Hooker</a>
       &nbsp;posted at <a href='http://Apiaceae.github.io'>http://Apiaceae.github.io</a>
       </p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/12/21/e585b3e4ba8ee799bee5baa6e79a84e4ba94e5a4a7e79c9fe79bb8/">关于百度的五大真相</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-12-21T00:00:00+08:00" pubdate data-updated="true">Dec 21<span>st</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>昨天看到互动百科“<a href="http://w.hudong.com/99e19bbf8fde4055b75acb93270b9744.html">致百度CEO李彦宏的公开信</a>”，文章太酸、太长、太烂，如果说百度已经是人人喊打，那么互动百科其实也好不到哪里去，君不见维基百科仍然正襟危坐？</p>  <p>百度该不该骂？该！百度成为众矢之的离不开中文第一搜的地位，以至于骂百度已经成为媒体博取用户关注的一种手段，赚钱赚到这样让这么多人恶心的程度，也实属难得。如果中国互联网真的有所谓的全民公敌的话，少不了腾讯，也少不了百度。</p>  <p>很多人知道百度，不一定完完全全地了解百度，我这里就权且列五条关于百度的不良记录，权当笑谈。</p>  <p><strong>真相一：在搜索结果中放广告赚钱</strong></p>  <p>搜索竞价排名是我目前了解到的，多年来百度收入占比最大的一块业务，即便多次更名也丝毫没有影响到它的核心地位，如果没有竞价广告就没有今天的百度。</p>  <p>但是与Google这样的关键词搜索广告相比，百度的竞价排名是完全和搜索结果融为一体，如果不仔细分辨你几乎很难发现竞价广告的存在。这一做法引发了截然不同的两种声音，赞同者认为这样的广告会增加客户的实际成交量，而反对者则认为这增加了商家的广告成本和无效用户，百度最夸张的时候一页搜索结果几乎全是竞价排名，商家疯狂追捧的背后是各方利益的追逐。</p>  <p>但是最核心的问题，百度作为搜索引擎的首先服务目标是用户，广告只是服务用户的附带收益，而毫无底线的竞价排名影响到了用户的正常搜索，几度改革的竞价排名虽然尊重用户的口号很大，最终作出的让步却很小。</p>  <p><strong>真相二：大量的不道德案底</strong></p>  <p>百度最广为人知的污点，莫过于央视曝光的医药搜索广告，当时百度为一些不正规的医药产品提供竞价广告服务，导致大量用户利益受到损害。百度事后表示将会拿出诚意痛改前非，所以我们就看到李彦宏出现在了当年的央视春晚上。医药搜索广告事件，揭示的是百度作为一个广告商，在同时面对金钱和道德作出了不正确的选择。医药、钓鱼网站、骗子…各种各样的骗术借着百度广告的外衣大行其道，展现出的是百度作为中国互联网巨头的社会责任感。</p>  <p>百度竞价广为流传的一个说法是，很多百度代理会威胁客户：如果你不买竞价排名，那么你的网站排名会一落千丈，甚至收录被清零。空穴来风，未必无因，越来越多客户的曝光证明了这种做法的存在。百度当然可以推说是部分代理商的做法，自己完全不知情，将会对那些不良代理商进行严厉惩处。听听，这口吻多像相关部门的官方基调，最后拿临时工顶包了事。这种调整权重、调整收录的做法，我不相信百度完全不知情，百度高层完全清白，最可能的事他们故作不知、听之任之，然后面对大把大把的钞票乐。</p>  <p>最典型的案例是，京东、新蛋、卓越亚马逊等大量商业网站，都曾经购买自己网站名称的竞价广告，这不是白白给百度送钱吗？他们怕的是什么？其中的秘辛恐怕只有当事人能够了解。</p>  <p><strong>真相三：依靠人工而不是算法</strong></p>  <p>做互联网的、做技术的很多都习惯用Google而不是百度，因为百度总会猛地给你一个啼笑皆非的搜索结果，而Google的表现则要稳定得多，这种现象背后代表着两种截然不同的发展思路。百度相信人工，而Google更相信算法。</p>  <p>百度从一开始就是一个便于人工调教的搜索，你可以很方便给合作伙伴、自家产品增加流量，也可以很方便给竞争对手、不识相的客户降权甚至清零收录。当然也有很多人表示百度这样子是因为需要配合一套关键词过滤系统，但事实证明Google还没离开的时候搜索结果同样比百度优秀。</p>  <p>这就像是一个破烂的房子，不管你再努力去修修补补都不可能恢复如新，甚至修补的这个过程会加快它的死亡。有时候我们在想百度的搜索结果会不会变得更糟，在这样永无休止、毫无进展的步调下。要逆转胜，除非百度真的重新设计一套搜索引擎框架，但是这可能吗？至少现在我还没有看到这种趋势，百度的心思都放在如何抄袭新业务赚钱。</p>  <p><strong>真相四：员工很难获得成就感</strong></p>  <p>百度的员工会有成就感吗？这话我不敢乱说。但是百度的员工大多在做的几件事情：调整搜索结果、卖广告、抄袭产品。工作内容非正义或者对社会没有积极贡献，员工自然在心理上就会矮半头。他们无法像Google的员工一样，通过自己的努力去创造革命性的产品，进而改变世界。Google有了Android、Chrome，而回过头来看看百度，除了赚钱多一点点其实没什么变化，就连赚钱的套路都一模一样。</p>  <p>工作在这样一家公司，成就感从何而来？别人在通过技术改变世界的时候，他们却在通过技术修修补补。如果你是苹果的员工，如果你是Google的员工，甚至你是腾讯的员工，都可以大大方方相坐而谈，但是如果你是百度员工，虽然大家都仍然礼貌，但是表情、语气多少都会有一些异样，就像看到一个富二代作威作福一样。这无关员工，只是百度自己的问题。</p>  <p><strong>真相五：搜索以外很少有建树</strong></p>  <p>有啊、百付宝停滞不前，好不容易做个百度文库却被指盗版温床，甚至还把用户送进了监狱，百度百科的无理抄袭受到来自维基百科的指责。最近麦田到了百度，成立社会化事业部做了百度说吧，烂得一塌糊涂，前段时间还学习51大玩美女诱惑。</p>  <p>百度的产品，除了贴吧、知道、百科这一类的社区产品，还有地图这样的工具型产品，其它几乎没有任何进展。拥有百度这样一个流量入口，这样的结果实在让人差异。对于百度最好的祝福：如果你不能好好地创造，那就认真地抄袭吧，就像腾讯正在做的那样。</p>  <p>——————分割线——————</p>  <p>互联网完美继承了老祖宗的那套东西，勾心斗角、口蜜腹剑、损人利己、落井下石，百度也不外如是。像百度这样的公司还有太多，黑着心思玩那些恶心手段其实更容易成功，而那些纯技术、产品驱动的公司最后反倒会落得凄惨无比的下场。这是值得我们警醒的事情，这也是为什么大部分中国用户不信任中国互联网公司，因为在这样的产业环境下要独善其身实在太难。</p>  <p>百度病了，但它只是中国互联网的一个缩影，相比之下中国互联网的孱弱更值得我们思考。除了依靠巨大人口基数制造出的虚假繁荣，我们究竟还有多少拿得出手的互联网公司和产品，有多少互联网公司会迫于形势变成另一个百度。 </p>  <p>原文地址：<a title="http://www.xjp.cc/2010-log/12/five-facts-baidu.html" href="http://www.xjp.cc/2010-log/12/five-facts-baidu.html">http://www.xjp.cc/2010-log/12/five-facts-baidu.html</a></p>
<p class='post-footer'>
       original link:
       <a href='http://Apiaceae.github.io/blog/2010/12/21/e585b3e4ba8ee799bee5baa6e79a84e4ba94e5a4a7e79c9fe79bb8/'>http://Apiaceae.github.io/blog/2010/12/21/e585b3e4ba8ee799bee5baa6e79a84e4ba94e5a4a7e79c9fe79bb8/</a><br/>
       &nbsp;written by <a href='http://Apiaceae.github.io'>Hooker</a>
       &nbsp;posted at <a href='http://Apiaceae.github.io'>http://Apiaceae.github.io</a>
       </p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/12/20/e4bfaee694b9e58f8ae69fa5e79c8bmysqle695b0e68daee5ba93e79a84e5ad97e7aca6e99b86/">修改及查看mysql数据库的字符集</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-12-20T00:00:00+08:00" pubdate data-updated="true">Dec 20<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><strong>Liunx下修改MySQL字符集：</strong></p>  <p>1.查找MySQL的cnf文件的位置</p>  <p>find / -iname &#8216;*.cnf&#8217; -print</p>  <p>/usr/share/mysql/my-innodb-heavy-4G.cnf   <br />/usr/share/mysql/my-large.cnf    <br />/usr/share/mysql/my-small.cnf    <br />/usr/share/mysql/my-medium.cnf    <br />/usr/share/mysql/my-huge.cnf    <br />/usr/share/texmf/web2c/texmf.cnf    <br />/usr/share/texmf/web2c/mktex.cnf    <br />/usr/share/texmf/web2c/fmtutil.cnf    <br />/usr/share/texmf/tex/xmltex/xmltexfmtutil.cnf    <br />/usr/share/texmf/tex/jadetex/jadefmtutil.cnf    <br />/usr/share/doc/MySQL-server-community-5.1.22/my-innodb-heavy-4G.cnf    <br />/usr/share/doc/MySQL-server-community-5.1.22/my-large.cnf    <br />/usr/share/doc/MySQL-server-community-5.1.22/my-small.cnf    <br />/usr/share/doc/MySQL-server-community-5.1.22/my-medium.cnf    <br />/usr/share/doc/MySQL-server-community-5.1.22/my-huge.cnf</p>  <p>2. 拷贝 small.cnf、my-medium.cnf、my-huge.cnf、my-innodb-heavy-4G.cnf其中的一个到/etc下，命名为my.cnf   <br />cp /usr/share/mysql/my-medium.cnf /etc/my.cnf</p>  <p>3. 修改my.cnf</p>  <p>vi /etc/my.cnf</p>  <p>在[client]下添加   <br />default-character-set=utf8</p>  <p>在[mysqld]下添加   <br />default-character-set=utf8</p>  <p>4.重新启动MySQL   <br />[root@bogon ~]# /etc/rc.d/init.d/mysql restart    <br />Shutting down MySQL&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [ 确定 ]    <br />Starting MySQL.&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; [ 确定 ]    <br />[root@bogon ~]# mysql -u root -p    <br />Enter password:    <br />Welcome to the MySQL monitor. Commands end with ; or \g.    <br />Your MySQL connection id is 1    <br />Server version: 5.1.22-rc-community-log MySQL Community Edition (GPL)</p>  <p>Type &#8216;help;&#8217; or &#8216;\h&#8217; for help. Type &#8216;\c&#8217; to clear the buffer.</p>  <p>5.查看字符集设置</p>  <p>mysql&gt; show variables like &#8216;collation_%&#8217;;   <br />+&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;-+&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;+    <br />| Variable_name&#160;&#160;&#160;&#160;&#160;&#160;&#160; | Value&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; |    <br />+&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;-+&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;+    <br />| collation_connection | utf8_general_ci |    <br />| collation_database&#160;&#160; | utf8_general_ci |    <br />| collation_server&#160;&#160;&#160;&#160; | utf8_general_ci |    <br />+&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;-+&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;+    <br />3 rows in set (0.02 sec)</p>  <p>mysql&gt; show variables like &#8216;character_set_%&#8217;;   <br />+&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;+&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;-+    <br />| Variable_name&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; | Value&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; |    <br />+&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;+&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;-+    <br />| character_set_client&#160;&#160;&#160;&#160; | utf8&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; |    <br />| character_set_connection | utf8&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; |    <br />| character_set_database&#160;&#160; | utf8&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; |    <br />| character_set_filesystem | binary&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; |    <br />| character_set_results&#160;&#160;&#160; | utf8&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; |    <br />| character_set_server&#160;&#160;&#160;&#160; | utf8&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; |    <br />| character_set_system&#160;&#160;&#160;&#160; | utf8&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; |    <br />| character_sets_dir&#160;&#160;&#160;&#160;&#160;&#160; | /usr/share/mysql/charsets/ |    <br />+&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;+&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;-+    <br />8 rows in set (0.02 sec)</p>  <p>mysql&gt;</p>  <p><strong>其他的一些设置方法：</strong></p>  <p><strong>修改数据库的字符集</strong>    <br />&#160;&#160; mysql&gt;use mydb</p>  <p>&#160;&#160; mysql&gt;alter database mydb character set utf-8;   <br /><strong>创建数据库指定数据库的字符集</strong></p>  <p>&#160;&#160; mysql&gt;create database mydb character set utf-8;</p>  <p><strong>通过配置文件修改:</strong></p>  <p>修改/var/lib/mysql/mydb/db.opt   <br />default-character-set=latin1    <br />default-collation=latin1_swedish_ci    <br />为    <br />default-character-set=utf8    <br />default-collation=utf8_general_ci</p>  <p>重起MySQL:   <br />[root@bogon ~]# /etc/rc.d/init.d/mysql restart</p>  <p><strong>通过MySQL命令行修改:</strong></p>  <p>mysql&gt; set character_set_client=utf8;   <br />Query OK, 0 rows affected (0.00 sec)</p>  <p>mysql&gt; set character_set_connection=utf8;   <br />Query OK, 0 rows affected (0.00 sec)</p>  <p>mysql&gt; set character_set_database=utf8;   <br />Query OK, 0 rows affected (0.00 sec)</p>  <p>mysql&gt; set character_set_results=utf8;   <br />Query OK, 0 rows affected (0.00 sec)</p>  <p>mysql&gt; set character_set_server=utf8;   <br />Query OK, 0 rows affected (0.00 sec)</p>  <p>mysql&gt; set character_set_system=utf8;   <br />Query OK, 0 rows affected (0.01 sec)</p>  <p>mysql&gt; set collation_connection=utf8;   <br />Query OK, 0 rows affected (0.01 sec)</p>  <p>mysql&gt; set collation_database=utf8;   <br />Query OK, 0 rows affected (0.01 sec)</p>  <p>mysql&gt; set collation_server=utf8;   <br />Query OK, 0 rows affected (0.01 sec)</p>  <p><strong>查看:     <br /></strong>mysql&gt; show variables like &#8216;character_set_%&#8217;;    <br />+&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;+&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;-+    <br />| Variable_name&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; | Value&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; |    <br />+&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;+&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;-+    <br />| character_set_client&#160;&#160;&#160;&#160; | utf8&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; |    <br />| character_set_connection | utf8&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; |    <br />| character_set_database&#160;&#160; | utf8&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; |    <br />| character_set_filesystem | binary&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; |    <br />| character_set_results&#160;&#160;&#160; | utf8&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; |    <br />| character_set_server&#160;&#160;&#160;&#160; | utf8&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; |    <br />| character_set_system&#160;&#160;&#160;&#160; | utf8&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; |    <br />| character_sets_dir&#160;&#160;&#160;&#160;&#160;&#160; | /usr/share/mysql/charsets/ |    <br />+&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;+&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;-+    <br />8 rows in set (0.03 sec)</p>  <p>mysql&gt; show variables like &#8216;collation_%&#8217;;   <br />+&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;-+&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;+    <br />| Variable_name&#160;&#160;&#160;&#160;&#160;&#160;&#160; | Value&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; |    <br />+&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;-+&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;+    <br />| collation_connection | utf8_general_ci |    <br />| collation_database&#160;&#160; | utf8_general_ci |    <br />| collation_server&#160;&#160;&#160;&#160; | utf8_general_ci |    <br />+&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;-+&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;+    <br />3 rows in set (0.04 sec)</p>  <p>&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;-</p>  <p>【知识性文章转载】</p>  <p>MYSQL 字符集问题</p>  <p>MySQL的字符集支持(Character Set Support)有两个方面：</p>  <p>&#160;&#160;&#160;&#160; 字符集(Character set)和排序方式(Collation)。</p>  <p>对于字符集的支持细化到四个层次:</p>  <p>&#160;&#160;&#160;&#160; 服务器(server)，数据库(database)，数据表(table)和连接(connection)。</p>  <p>1.MySQL默认字符集</p>  <p>MySQL对于字符集的指定可以细化到一个数据库，一张表，一列，应该用什么字符集。</p>  <p>但是，传统的程序在创建数据库和数据表时并没有使用那么复杂的配置，它们用的是默认的配置，那么，默认的配置从何而来呢？&#160;&#160;&#160; (1)编译MySQL 时，指定了一个默认的字符集，这个字符集是 latin1；</p>  <p>&#160;&#160;&#160; (2)安装MySQL 时，可以在配置文件 (my.ini) 中指定一个默认的的字符集，如果没指定，这个值继承自编译时指定的；</p>  <p>&#160;&#160;&#160; (3)启动mysqld 时，可以在命令行参数中指定一个默认的的字符集，如果没指定，这个值继承自配置文件中的配置,此时 character_set_server 被设定为这个默认的字符集；</p>  <p>&#160;&#160;&#160; (4)当创建一个新的数据库时，除非明确指定，这个数据库的字符集被缺省设定为character_set_server；</p>  <p>&#160;&#160;&#160; (5)当选定了一个数据库时，character_set_database 被设定为这个数据库默认的字符集；</p>  <p>&#160;&#160;&#160; (6)在这个数据库里创建一张表时，表默认的字符集被设定为 character_set_database，也就是这个数据库默认的字符集；</p>  <p>&#160;&#160;&#160; (7)当在表内设置一栏时，除非明确指定，否则此栏缺省的字符集就是表默认的字符集；</p>  <p>简单的总结一下，如果什么地方都不修改，那么所有的数据库的所有表的所有栏位的都用 latin1 存储，不过我们如果安装 MySQL，一般都会选择多语言支持，也就是说，安装程序会自动在配置文件中把 default_character_set 设置为 UTF-8，这保证了缺省情况下，所有的数据库的所有表的所有栏位的都用 UTF-8 存储。</p>  <p>2.查看默认字符集(默认情况下，mysql的字符集是latin1(ISO_8859_1)</p>  <p>通常，查看系统的字符集和排序方式的设定可以通过下面的两条命令：</p>  <p>&#160;&#160;&#160;&#160; mysql&gt; SHOW VARIABLES LIKE &#8216;character%&#8217;;</p>  <p>+&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;+&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;+</p>  <p>| Variable_name&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; | Value&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; |</p>  <p>+&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;+&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;+</p>  <p>| character_set_client&#160;&#160;&#160;&#160; | latin1&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; |</p>  <p>| character_set_connection | latin1&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; |</p>  <p>| character_set_database&#160;&#160; | latin1&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; |</p>  <p>| character_set_filesystem | binary&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; |</p>  <p>| character_set_results&#160;&#160;&#160; | latin1&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; |</p>  <p>| character_set_server&#160;&#160;&#160;&#160; | latin1&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; |</p>  <p>| character_set_system&#160;&#160;&#160; | utf8&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; |</p>  <p>| character_sets_dir&#160;&#160;&#160;&#160;&#160;&#160; | D:&quot;mysql-5.0.37&quot;share&quot;charsets&quot; |</p>  <p>+&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;+&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;+</p>  <p>mysql&gt; SHOW VARIABLES LIKE &#8216;collation_%&#8217;;</p>  <p>+&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;-+&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;+</p>  <p>| Variable_name&#160;&#160;&#160;&#160;&#160;&#160;&#160; | Value&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; |</p>  <p>+&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;-+&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;+</p>  <p>| collation_connection | utf8_general_ci |</p>  <p>| collation_database&#160;&#160; | utf8_general_ci |</p>  <p>| collation_server&#160;&#160;&#160;&#160; | utf8_general_ci |</p>  <p>+&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;-+&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;+</p>  <p>3.修改默认字符集</p>  <p>(1) 最简单的修改方法，就是修改mysql的my.ini文件中的字符集键值，</p>  <p>如&#160;&#160;&#160; default-character-set = utf8</p>  <p>&#160;&#160;&#160;&#160;&#160; character_set_server = utf8</p>  <p>&#160;&#160; 修改完后，重启mysql的服务，service mysql restart</p>  <p>&#160;&#160; 使用 mysql&gt; SHOW VARIABLES LIKE &#8216;character%&#8217;;查看，发现数据库编码均已改成utf8</p>  <p>+&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;+&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;+</p>  <p>| Variable_name&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; | Value&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; |</p>  <p>+&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;+&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;+</p>  <p>| character_set_client&#160;&#160;&#160;&#160; | utf8&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; |</p>  <p>| character_set_connection | utf8&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; |</p>  <p>| character_set_database&#160;&#160; | utf8&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; |</p>  <p>| character_set_filesystem | binary&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; |</p>  <p>| character_set_results&#160;&#160;&#160; | utf8&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; |</p>  <p>| character_set_server&#160;&#160;&#160;&#160; | utf8&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; |</p>  <p>| character_set_system&#160;&#160;&#160;&#160; | utf8&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; |</p>  <p>| character_sets_dir&#160;&#160;&#160;&#160;&#160;&#160; | D:&quot;mysql-5.0.37&quot;share&quot;charsets&quot; |</p>  <p>+&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8211;+&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;+</p>  <p>&#160;&#160; (2) 还有一种修改字符集的方法，就是使用mysql的命令</p>  <p>&#160;&#160; mysql&gt; SET character_set_client = utf8 ;</p>  <p>&#160;</p>  <p>原文地址：<a title="http://blog.chinaunix.net/u1/51541/showart_505638.html" href="http://blog.chinaunix.net/u1/51541/showart_505638.html">http://blog.chinaunix.net/u1/51541/showart_505638.html</a></p>
<p class='post-footer'>
       original link:
       <a href='http://Apiaceae.github.io/blog/2010/12/20/e4bfaee694b9e58f8ae69fa5e79c8bmysqle695b0e68daee5ba93e79a84e5ad97e7aca6e99b86/'>http://Apiaceae.github.io/blog/2010/12/20/e4bfaee694b9e58f8ae69fa5e79c8bmysqle695b0e68daee5ba93e79a84e5ad97e7aca6e99b86/</a><br/>
       &nbsp;written by <a href='http://Apiaceae.github.io'>Hooker</a>
       &nbsp;posted at <a href='http://Apiaceae.github.io'>http://Apiaceae.github.io</a>
       </p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/12/17/e5a5a5e5b7b4e9a9ace79c8be8a781e4bda0e4ba86e5b08fe6b8b8e6888f/">奥巴马看见你了小游戏</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-12-17T00:00:00+08:00" pubdate data-updated="true">Dec 17<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://games.jeuxjeuxjeux.fr/data/1/4/4/14414.swf">http://games.jeuxjeuxjeux.fr/data/1/4/4/14414.swf</a></p>
<p>&nbsp;</p>
<p><a href="/files/2010/12/jirapatch.rar">jirapatch.rar (295.88 kb)</a></p>
<p><a href="/files/2010/12/atlassian-extras-2.2.2.jar">atlassian-extras-2.2.2.jar (147.22 kb)</a></p>
<p>&nbsp;</p>
<p><a href="/files/2010/12/JiraLicenseStoreImpl.class">JiraLicenseStoreImpl.class (3.20 kb)</a></p>
<p>&nbsp;</p>
<p><a href="/files/2010/12/language_zh_CN.jar">language_zh_CN.jar (188.31 kb)</a></p>
<p class='post-footer'>
       original link:
       <a href='http://Apiaceae.github.io/blog/2010/12/17/e5a5a5e5b7b4e9a9ace79c8be8a781e4bda0e4ba86e5b08fe6b8b8e6888f/'>http://Apiaceae.github.io/blog/2010/12/17/e5a5a5e5b7b4e9a9ace79c8be8a781e4bda0e4ba86e5b08fe6b8b8e6888f/</a><br/>
       &nbsp;written by <a href='http://Apiaceae.github.io'>Hooker</a>
       &nbsp;posted at <a href='http://Apiaceae.github.io'>http://Apiaceae.github.io</a>
       </p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/12/16/e5a682e4bd95e59ca8aspnet-mvce8a786e59bbee4b8ade4bdbfe794a8datatablee5afb9e8b1a1/">如何在ASP.NET MVC视图中使用DataTable对象</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-12-16T00:00:00+08:00" pubdate data-updated="true">Dec 16<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>控制器代码</h3>
<pre class="brush: c-sharp;">public ActionResult Index()
{    
  DataTable dt = new DataTable(); 
    return View(dt);

}</pre>
<h3>视图代码</h3>
<pre class="brush: c-sharp;">Inherits="System.Web.Mvc.ViewPage&lt;System.Data.DataTable&gt;"</pre>
<pre class="brush: c-sharp;"><span style="font-size: medium;">显示数据</span></pre>
<pre style="font-family: consolas;"><span style="font-size: medium;"><span style="background: yellow;">&lt;%</span>&nbsp;<span style="color: blue;">foreach</span>&nbsp;(System.Data.<span style="color: #2b91af;">DataRow</span>&nbsp;row&nbsp;<span style="color: blue;">in</span>&nbsp;Model.Rows)</span><br /><span style="font-size: medium;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;<span style="background: yellow;">%&gt;</span></span><br /><span style="font-size: medium;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: yellow;">&lt;%</span><span style="color: blue;">=</span>&nbsp;row["columnName"].ToString()&nbsp;<span style="background: yellow;">%&gt;</span></span><br /><span style="font-size: medium;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="background: yellow;">&lt;%</span>}<span style="background: yellow;">%&gt;</span></span></pre>
<p class='post-footer'>
       original link:
       <a href='http://Apiaceae.github.io/blog/2010/12/16/e5a682e4bd95e59ca8aspnet-mvce8a786e59bbee4b8ade4bdbfe794a8datatablee5afb9e8b1a1/'>http://Apiaceae.github.io/blog/2010/12/16/e5a682e4bd95e59ca8aspnet-mvce8a786e59bbee4b8ade4bdbfe794a8datatablee5afb9e8b1a1/</a><br/>
       &nbsp;written by <a href='http://Apiaceae.github.io'>Hooker</a>
       &nbsp;posted at <a href='http://Apiaceae.github.io'>http://Apiaceae.github.io</a>
       </p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/12/13/e4bdbfe794a8javascripte8849ae69cace68ea7e588b6e69fa5e8afa2e9a1b5e99da2e5afbce888aae5928ce6b885e999a4e794a8e688b7e8be93e585a5e5ad97e7aca6e4b8b2e79a84e9a696e5b0bee7a9bae6a0bc/">使用JavaScript脚本控制查询页面导航和清除用户输入字符串的首尾空格</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-12-13T00:00:00+08:00" pubdate data-updated="true">Dec 13<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>对于查询页面来说，经常会在页面上设置查询信息类别的选项，希望根据用户的查询的信息类别导航的不同的结果页面。并且能够去掉用户输入文本的首尾空格(这个在用户从其它地方拷贝查询字符串过来的时候是经常发生的事情)。以下面的为例子：</p>
<p><a href="http://blog.cnpc.ac.cn/images/image_6.png"><img style="background-image: none; padding-left: 0px; padding-right: 0px; display: inline; padding-top: 0px; border: 0px;" title="image" src="http://blog.cnpc.ac.cn/images/image_thumb_6.png" border="0" alt="image" width="607" height="89" /></a></p>
<h3>JavaScript脚本</h3>
<pre class="brush: js;">function doSearch() {        
        var category = document.getElementsByName("category");
        var queryinput = document.getElementById('SearchName').value;
        var query = queryinput.replace(/^\s+|\s+$/g, "");        
        document.getElementById('SearchName').value =query;
        document.getElementById('SearchName').disabled = true;
        for (var i = 0; i &lt; category.length; i++) {
            if (category[0].checked) {
                window.location = "/name/search?category=name&amp;q=" + query + "&amp;page=" + 1;
            }
            if (category[1].checked) {
                window.location = "/vernacular/search?category=vernacular&amp;q=" + query + "&amp;page=" + 1;
            }
        }
    }</pre>
<p class="brush: js;">处理用户输入文本空格的方法和原理可以参考<a href="http://www.opensourcevarsity.com/javascriptbasics/l5trimmingwhitespaces">这篇文章</a>。</p>
<p class='post-footer'>
       original link:
       <a href='http://Apiaceae.github.io/blog/2010/12/13/e4bdbfe794a8javascripte8849ae69cace68ea7e588b6e69fa5e8afa2e9a1b5e99da2e5afbce888aae5928ce6b885e999a4e794a8e688b7e8be93e585a5e5ad97e7aca6e4b8b2e79a84e9a696e5b0bee7a9bae6a0bc/'>http://Apiaceae.github.io/blog/2010/12/13/e4bdbfe794a8javascripte8849ae69cace68ea7e588b6e69fa5e8afa2e9a1b5e99da2e5afbce888aae5928ce6b885e999a4e794a8e688b7e8be93e585a5e5ad97e7aca6e4b8b2e79a84e9a696e5b0bee7a9bae6a0bc/</a><br/>
       &nbsp;written by <a href='http://Apiaceae.github.io'>Hooker</a>
       &nbsp;posted at <a href='http://Apiaceae.github.io'>http://Apiaceae.github.io</a>
       </p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/12/13/3de6a087e7adbee4ba91e7a4bae4be8b/">3D标签云示例</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-12-13T00:00:00+08:00" pubdate data-updated="true">Dec 13<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>示例</h3>
<p>[video src=&#8221;Video_2010-12-14_014231.wmv&#8221;]</p>
<h3>页面脚本引用代码：</h3>
<pre class="brush: js;">swfobject.addDomLoadEvent(function () {
		swfobject.embedSWF(
					"../../text_and_image_cloud.swf", "myContent1",
					"180", "220",
					"10", "../../expressInstall.swf",
					{
						cloud_data: "../../cloud_data.xml",
						tcolor: "0x999999",
						tcolor2: "0x666666",
						hicolor: "0x494949",
						tspeed: "250",
						fontFace: "Arial"
					},
					{ wmode: "window", menu: "false", quality: "best" }
					);
	});</pre>
<h3>XML标签数据格式：</h3>
<p>&nbsp;</p>
<pre class="brush: xml;"><a style="font-size: 80pt;" href="http://www.cnpc.ac.cn/posts/tags?=Biodiversity">
	生物多样性
</a>

<a style="font-size: 11pt;" href="http://www.cnpc.ac.cn">
	物种编目
</a>

<a style="font-size: 9.55556pt;" href="http://www.cnpc.ac.cn">
	生物多样性信息学
</a>

<a style="font-size: 8pt;" href="http://www.cnpc.ac.cn">
	标准
</a>

<a style="font-size: 16pt;" href="http://www.cnpc.ac.cn">
	数据库
</a>

<a style="font-size: 18pt;" href="http://www.cnpc.ac.cn">
	协议
</a>

<a href="http://www.cnpc.ac.cn">
	文献
</a>

<a style="font-size: 17pt;" href="http://www.cnpc.ac.cn">
	动态
	</a>

<a style="font-size: 8pt;" href="http://www.cnpc.ac.cn">
	新闻
</a>

<a style="font-size: 9.55556pt;" href="http://www.cnpc.ac.cn">
	IUCN
</a>

<a style="font-size: 9.55556pt;" href="http://www.cnpc.ac.cn">
	保护
</a>

<a style="font-size: 11.1111pt;" href="http://www.cnpc.ac.cn">
	形态
</a>

<a style="font-size: 8pt;" href="http://www.cnpc.ac.cn">
	鉴定
</a>

<a style="font-size: 12.6667pt;" href="http://www.cnpc.ac.cn">
	新种
</a>

<a style="font-size: 8pt;" href="http://www.cnpc.ac.cn">
	Web
</a>

</pre>
<p>相关资源可以从<a href="http://www.artviper.net/website-design/xml-flash-tag-cloud.php">这里</a>下载</p>
<p>&nbsp;</p>
<p class='post-footer'>
       original link:
       <a href='http://Apiaceae.github.io/blog/2010/12/13/3de6a087e7adbee4ba91e7a4bae4be8b/'>http://Apiaceae.github.io/blog/2010/12/13/3de6a087e7adbee4ba91e7a4bae4be8b/</a><br/>
       &nbsp;written by <a href='http://Apiaceae.github.io'>Hooker</a>
       &nbsp;posted at <a href='http://Apiaceae.github.io'>http://Apiaceae.github.io</a>
       </p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/12/12/sqle5a682e4bd95e4bb8ee58d95e4b8aae585b7e69c89e9878de5a48de9a1b9e79a84e8a1a8e4b8ade88eb7e5be97e7bb9fe8aea1e695b0e68dae/">Sql如何从单个具有重复项的表中获得统计数据</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-12-12T00:00:00+08:00" pubdate data-updated="true">Dec 12<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>我们经常遇到需要从一张多个字段具有不唯一重复值的表中统计数据的情况，表结构如下图：</p>
<p><a href="http://images.cnblogs.com/cnblogs_com/apiaceae/WindowsLiveWriter/sql_D319/Lisong_2010-11-08_144758_2.gif"><img style="display: inline; border-width: 0px;" title="Lisong_2010-11-08_144758" src="http://images.cnblogs.com/cnblogs_com/apiaceae/WindowsLiveWriter/sql_D319/Lisong_2010-11-08_144758_thumb.gif" border="0" alt="Lisong_2010-11-08_144758" width="644" height="354" /></a></p>
<p>表中只有一个字符型字段CanonicalString和ID具有唯一值，其它字段都有不同程度的重复。需要的结果是统计每一个不同分类等级(界、门、纲、目、科、属)的下级分类单元有多少。例如：统计出每一个科(TaxonFamily)有多少个属(TaxonGenus),多少个分类群(CanonicalString)；统计每一个门有多纲、目、科、属等等，其它依次类推。</p>
<h1>1、统计每一个科有多少分类群</h1>
<p>&nbsp;</p>
<pre class="brush: sql;">SELECT  TaxonFamily AS Family ,

        COUNT(Id) AS TaxonNumber

FROM    dbo.Taxons

GROUP BY TaxonFamily

ORDER BY TaxonNumber DESC</pre>
<div id="codeSnippetWrapper">
<pre id="codeSnippet" class="csharpcode">运行结果：</pre>
<pre class="csharpcode"><a href="http://images.cnblogs.com/cnblogs_com/apiaceae/WindowsLiveWriter/sql_D319/image_2.png"><img style="display: inline; border-width: 0px;" title="image" src="http://images.cnblogs.com/cnblogs_com/apiaceae/WindowsLiveWriter/sql_D319/image_thumb.png" border="0" alt="image" width="203" height="244" /></a> </pre>
<h1>2、统计类群数目最多的10个科</h1>
<p>&nbsp;</p>
<pre class="brush: sql;">SELECT TOP(10)  TaxonFamily AS Family ,



        COUNT(Id) AS TaxonNumber



FROM    dbo.Taxons



GROUP BY TaxonFamily



ORDER BY TaxonNumber DESC<br /></pre>
<p>&nbsp;</p>
</div>
<h1>3、统计每一个科包括有多少个属</h1>
<p>&nbsp;</p>
<pre class="brush: sql;">SELECT  TaxonFamily AS Family ,

        COUNT(DISTINCT ( TaxonGenus )) AS GenusNumber

FROM    dbo.Taxons

GROUP BY TaxonFamily

ORDER BY GenusNumber DESC</pre>
<p>&nbsp;</p>
<p>运行结果：</p>
<p><a href="http://images.cnblogs.com/cnblogs_com/apiaceae/WindowsLiveWriter/sql_D319/image_4.png"><img style="display: inline; border-width: 0px;" title="image" src="http://images.cnblogs.com/cnblogs_com/apiaceae/WindowsLiveWriter/sql_D319/image_thumb_1.png" border="0" alt="image" width="179" height="244" /></a></p>
<h1>4、统计每一个科的属和分类群的数目</h1>
<div id="codeSnippetWrapper" style="text-align: left; line-height: 12pt; background-color: #f4f4f4; margin: 20px 0px 10px; width: 97.5%; font-family: 'Courier New', courier, monospace; direction: ltr; max-height: 200px; font-size: 8pt; overflow: auto; cursor: text; border: silver 1px solid; padding: 4px;">
<div id="codeSnippet" style="text-align: left; line-height: 12pt; background-color: #f4f4f4; width: 100%; font-family: 'Courier New', courier, monospace; direction: ltr; color: black; font-size: 8pt; overflow: visible; border-style: none; padding: 0px;">
<pre style="text-align: left; line-height: 12pt; background-color: white; margin: 0em; width: 100%; font-family: 'Courier New', courier, monospace; direction: ltr; color: black; font-size: 8pt; overflow: visible; border-style: none; padding: 0px;">&nbsp;</pre>
<!--CRLF-->
<pre style="text-align: left; line-height: 12pt; background-color: #f4f4f4; margin: 0em; width: 100%; font-family: 'Courier New', courier, monospace; direction: ltr; color: black; font-size: 8pt; overflow: visible; border-style: none; padding: 0px;"><span style="color: #0000ff;">SELECT</span>  TaxonFamily <span style="color: #0000ff;">AS</span> Family ,</pre>
<!--CRLF-->
<pre style="text-align: left; line-height: 12pt; background-color: white; margin: 0em; width: 100%; font-family: 'Courier New', courier, monospace; direction: ltr; color: black; font-size: 8pt; overflow: visible; border-style: none; padding: 0px;">        <span style="color: #0000ff;">COUNT</span>(<span style="color: #0000ff;">DISTINCT</span> ( TaxonGenus )) <span style="color: #0000ff;">AS</span> GenusNumber ,</pre>
<!--CRLF-->
<pre style="text-align: left; line-height: 12pt; background-color: #f4f4f4; margin: 0em; width: 100%; font-family: 'Courier New', courier, monospace; direction: ltr; color: black; font-size: 8pt; overflow: visible; border-style: none; padding: 0px;">        <span style="color: #0000ff;">COUNT</span>(Id) <span style="color: #0000ff;">AS</span> TaxonNumber</pre>
<!--CRLF-->
<pre style="text-align: left; line-height: 12pt; background-color: white; margin: 0em; width: 100%; font-family: 'Courier New', courier, monospace; direction: ltr; color: black; font-size: 8pt; overflow: visible; border-style: none; padding: 0px;"><span style="color: #0000ff;">FROM</span>    dbo.Taxons</pre>
<!--CRLF-->
<pre style="text-align: left; line-height: 12pt; background-color: #f4f4f4; margin: 0em; width: 100%; font-family: 'Courier New', courier, monospace; direction: ltr; color: black; font-size: 8pt; overflow: visible; border-style: none; padding: 0px;"><span style="color: #0000ff;">GROUP</span> <span style="color: #0000ff;">BY</span> TaxonFamily</pre>
<!--CRLF-->
<pre style="text-align: left; line-height: 12pt; background-color: white; margin: 0em; width: 100%; font-family: 'Courier New', courier, monospace; direction: ltr; color: black; font-size: 8pt; overflow: visible; border-style: none; padding: 0px;"><span style="color: #0000ff;">ORDER</span> <span style="color: #0000ff;">BY</span> GenusNumber DESC</pre>
<!--CRLF--></div>
</div>
<p>运行结果：</p>
<p><a href="http://images.cnblogs.com/cnblogs_com/apiaceae/WindowsLiveWriter/sql_D319/image_6.png"><img style="display: inline; border-width: 0px;" title="image" src="http://images.cnblogs.com/cnblogs_com/apiaceae/WindowsLiveWriter/sql_D319/image_thumb_2.png" border="0" alt="image" width="244" height="321" /></a></p>
<h2>5、统计每一个属包括的分类群数目并显示这个属的科名</h2>
<div id="codeSnippetWrapper" style="text-align: left; line-height: 12pt; background-color: #f4f4f4; margin: 20px 0px 10px; width: 97.5%; font-family: 'Courier New', courier, monospace; direction: ltr; max-height: 200px; font-size: 8pt; overflow: auto; cursor: text; border: silver 1px solid; padding: 4px;">
<div id="codeSnippet" style="text-align: left; line-height: 12pt; background-color: #f4f4f4; width: 100%; font-family: 'Courier New', courier, monospace; direction: ltr; color: black; font-size: 8pt; overflow: visible; border-style: none; padding: 0px;">
<pre style="text-align: left; line-height: 12pt; background-color: white; margin: 0em; width: 100%; font-family: 'Courier New', courier, monospace; direction: ltr; color: black; font-size: 8pt; overflow: visible; border-style: none; padding: 0px;"><span style="color: #0000ff;">SELECT</span> TaxonFamily <span style="color: #0000ff;">AS</span> Family,  TaxonGenus <span style="color: #0000ff;">AS</span> Genus ,</pre>
<!--CRLF-->
<pre style="text-align: left; line-height: 12pt; background-color: #f4f4f4; margin: 0em; width: 100%; font-family: 'Courier New', courier, monospace; direction: ltr; color: black; font-size: 8pt; overflow: visible; border-style: none; padding: 0px;">        <span style="color: #0000ff;">COUNT</span>(Id) <span style="color: #0000ff;">AS</span> TaxonNumber</pre>
<!--CRLF-->
<pre style="text-align: left; line-height: 12pt; background-color: white; margin: 0em; width: 100%; font-family: 'Courier New', courier, monospace; direction: ltr; color: black; font-size: 8pt; overflow: visible; border-style: none; padding: 0px;"><span style="color: #0000ff;">FROM</span>    dbo.Taxons</pre>
<!--CRLF-->
<pre style="text-align: left; line-height: 12pt; background-color: #f4f4f4; margin: 0em; width: 100%; font-family: 'Courier New', courier, monospace; direction: ltr; color: black; font-size: 8pt; overflow: visible; border-style: none; padding: 0px;"><span style="color: #0000ff;">GROUP</span> <span style="color: #0000ff;">BY</span> TaxonGenus, TaxonFamily</pre>
<!--CRLF-->
<pre style="text-align: left; line-height: 12pt; background-color: white; margin: 0em; width: 100%; font-family: 'Courier New', courier, monospace; direction: ltr; color: black; font-size: 8pt; overflow: visible; border-style: none; padding: 0px;"><span style="color: #0000ff;">ORDER</span> <span style="color: #0000ff;">BY</span> TaxonNumber DESC</pre>
<!--CRLF--></div>
</div>
<p>运行结果：</p>
<p><a href="http://images.cnblogs.com/cnblogs_com/apiaceae/WindowsLiveWriter/sql_D319/image_8.png"><img style="display: inline; border-width: 0px;" title="image" src="http://images.cnblogs.com/cnblogs_com/apiaceae/WindowsLiveWriter/sql_D319/image_thumb_3.png" border="0" alt="image" width="258" height="321" /></a></p>
<h1>6、统计某一个科的属和分类群数目</h1>
<div id="codeSnippetWrapper" style="text-align: left; line-height: 12pt; background-color: #f4f4f4; margin: 20px 0px 10px; width: 97.5%; font-family: 'Courier New', courier, monospace; direction: ltr; max-height: 200px; font-size: 8pt; overflow: auto; cursor: text; border: silver 1px solid; padding: 4px;">
<div id="codeSnippet" style="text-align: left; line-height: 12pt; background-color: #f4f4f4; width: 100%; font-family: 'Courier New', courier, monospace; direction: ltr; color: black; font-size: 8pt; overflow: visible; border-style: none; padding: 0px;">
<pre style="text-align: left; line-height: 12pt; background-color: white; margin: 0em; width: 100%; font-family: 'Courier New', courier, monospace; direction: ltr; color: black; font-size: 8pt; overflow: visible; border-style: none; padding: 0px;"><span style="color: #0000ff;">SELECT</span>  TaxonFamily <span style="color: #0000ff;">AS</span> Family ,</pre>
<!--CRLF-->
<pre style="text-align: left; line-height: 12pt; background-color: #f4f4f4; margin: 0em; width: 100%; font-family: 'Courier New', courier, monospace; direction: ltr; color: black; font-size: 8pt; overflow: visible; border-style: none; padding: 0px;">        <span style="color: #0000ff;">COUNT</span>(<span style="color: #0000ff;">DISTINCT</span> ( TaxonGenus )) <span style="color: #0000ff;">AS</span> GenusNumber ,</pre>
<!--CRLF-->
<pre style="text-align: left; line-height: 12pt; background-color: white; margin: 0em; width: 100%; font-family: 'Courier New', courier, monospace; direction: ltr; color: black; font-size: 8pt; overflow: visible; border-style: none; padding: 0px;">        <span style="color: #0000ff;">COUNT</span>(Id) <span style="color: #0000ff;">AS</span> TaxonNumber</pre>
<!--CRLF-->
<pre style="text-align: left; line-height: 12pt; background-color: #f4f4f4; margin: 0em; width: 100%; font-family: 'Courier New', courier, monospace; direction: ltr; color: black; font-size: 8pt; overflow: visible; border-style: none; padding: 0px;"><span style="color: #0000ff;">FROM</span>    dbo.Taxons</pre>
<!--CRLF-->
<pre style="text-align: left; line-height: 12pt; background-color: white; margin: 0em; width: 100%; font-family: 'Courier New', courier, monospace; direction: ltr; color: black; font-size: 8pt; overflow: visible; border-style: none; padding: 0px;"><span style="color: #0000ff;">WHERE</span>   TaxonFamily = <span style="color: #006080;">'Pinaceae'</span></pre>
<!--CRLF-->
<pre style="text-align: left; line-height: 12pt; background-color: #f4f4f4; margin: 0em; width: 100%; font-family: 'Courier New', courier, monospace; direction: ltr; color: black; font-size: 8pt; overflow: visible; border-style: none; padding: 0px;"><span style="color: #0000ff;">GROUP</span> <span style="color: #0000ff;">BY</span> TaxonFamily</pre>
<!--CRLF--></div>
</div>
<p>运行结果：</p>
<p><a href="http://images.cnblogs.com/cnblogs_com/apiaceae/WindowsLiveWriter/sql_D319/image_10.png"><img style="display: inline; border-width: 0px;" title="image" src="http://images.cnblogs.com/cnblogs_com/apiaceae/WindowsLiveWriter/sql_D319/image_thumb_4.png" border="0" alt="image" width="313" height="89" /></a></p>
<h1>7、统计物种名字字段(CanonicalString)中空格出现的次数</h1>
<div id="codeSnippetWrapper" style="text-align: left; line-height: 12pt; background-color: #f4f4f4; margin: 20px 0px 10px; width: 97.5%; font-family: 'Courier New', courier, monospace; direction: ltr; max-height: 200px; font-size: 8pt; overflow: auto; cursor: text; border: silver 1px solid; padding: 4px;">
<div id="codeSnippet" style="text-align: left; line-height: 12pt; background-color: #f4f4f4; width: 100%; font-family: 'Courier New', courier, monospace; direction: ltr; color: black; font-size: 8pt; overflow: visible; border-style: none; padding: 0px;">
<pre style="text-align: left; line-height: 12pt; background-color: white; margin: 0em; width: 100%; font-family: 'Courier New', courier, monospace; direction: ltr; color: black; font-size: 8pt; overflow: visible; border-style: none; padding: 0px;"><span style="color: #0000ff;">SELECT</span>  Id ,</pre>
<!--CRLF-->
<pre style="text-align: left; line-height: 12pt; background-color: #f4f4f4; margin: 0em; width: 100%; font-family: 'Courier New', courier, monospace; direction: ltr; color: black; font-size: 8pt; overflow: visible; border-style: none; padding: 0px;">        CanonicalString ,</pre>
<!--CRLF-->
<pre style="text-align: left; line-height: 12pt; background-color: white; margin: 0em; width: 100%; font-family: 'Courier New', courier, monospace; direction: ltr; color: black; font-size: 8pt; overflow: visible; border-style: none; padding: 0px;">        LEN(CanonicalString) - LEN(REPLACE(CanonicalString, <span style="color: #006080;">' '</span>, <span style="color: #006080;">''</span>)) <span style="color: #0000ff;">AS</span> 空格出现次数</pre>
<!--CRLF-->
<pre style="text-align: left; line-height: 12pt; background-color: #f4f4f4; margin: 0em; width: 100%; font-family: 'Courier New', courier, monospace; direction: ltr; color: black; font-size: 8pt; overflow: visible; border-style: none; padding: 0px;"><span style="color: #0000ff;">FROM</span>    dbo.Taxons</pre>
<!--CRLF--></div>
</div>
<p>运行结果如下：</p>
<p><a href="http://images.cnblogs.com/cnblogs_com/apiaceae/WindowsLiveWriter/sql_D319/image_12.png"><img style="display: inline; border-width: 0px;" title="image" src="http://images.cnblogs.com/cnblogs_com/apiaceae/WindowsLiveWriter/sql_D319/image_thumb_5.png" border="0" alt="image" width="396" height="277" /></a></p>
<p>上面这个语句的作用是当我们没有有效标记改类群的分类等级，种或者亚种、变种的时候，可以用来作为筛选记录的一个备选方法。</p>
<h1>8、统计每一个科有多少属和种(不包括种下等级的情况)</h1>
<div id="codeSnippetWrapper" style="text-align: left; line-height: 12pt; background-color: #f4f4f4; margin: 20px 0px 10px; width: 97.5%; font-family: 'Courier New', courier, monospace; direction: ltr; max-height: 200px; font-size: 8pt; overflow: auto; cursor: text; border: silver 1px solid; padding: 4px;">
<div id="codeSnippet" style="text-align: left; line-height: 12pt; background-color: #f4f4f4; width: 100%; font-family: 'Courier New', courier, monospace; direction: ltr; color: black; font-size: 8pt; overflow: visible; border-style: none; padding: 0px;">
<pre style="text-align: left; line-height: 12pt; background-color: white; margin: 0em; width: 100%; font-family: 'Courier New', courier, monospace; direction: ltr; color: black; font-size: 8pt; overflow: visible; border-style: none; padding: 0px;"><span style="color: #0000ff;">SELECT</span>  TaxonFamily <span style="color: #0000ff;">AS</span> Family ,</pre>
<!--CRLF-->
<pre style="text-align: left; line-height: 12pt; background-color: #f4f4f4; margin: 0em; width: 100%; font-family: 'Courier New', courier, monospace; direction: ltr; color: black; font-size: 8pt; overflow: visible; border-style: none; padding: 0px;">        <span style="color: #0000ff;">COUNT</span>(<span style="color: #0000ff;">DISTINCT</span> ( TaxonGenus )) <span style="color: #0000ff;">AS</span> GenusNumber ,</pre>
<!--CRLF-->
<pre style="text-align: left; line-height: 12pt; background-color: white; margin: 0em; width: 100%; font-family: 'Courier New', courier, monospace; direction: ltr; color: black; font-size: 8pt; overflow: visible; border-style: none; padding: 0px;">        <span style="color: #0000ff;">COUNT</span>(Id) <span style="color: #0000ff;">AS</span> SpeciesNumber</pre>
<!--CRLF-->
<pre style="text-align: left; line-height: 12pt; background-color: #f4f4f4; margin: 0em; width: 100%; font-family: 'Courier New', courier, monospace; direction: ltr; color: black; font-size: 8pt; overflow: visible; border-style: none; padding: 0px;"><span style="color: #0000ff;">FROM</span>    dbo.Taxons</pre>
<!--CRLF-->
<pre style="text-align: left; line-height: 12pt; background-color: white; margin: 0em; width: 100%; font-family: 'Courier New', courier, monospace; direction: ltr; color: black; font-size: 8pt; overflow: visible; border-style: none; padding: 0px;"><span style="color: #0000ff;">WHERE</span>   LEN(CanonicalString) - LEN(REPLACE(CanonicalString, <span style="color: #006080;">' '</span>, <span style="color: #006080;">''</span>)) = 1</pre>
<!--CRLF-->
<pre style="text-align: left; line-height: 12pt; background-color: #f4f4f4; margin: 0em; width: 100%; font-family: 'Courier New', courier, monospace; direction: ltr; color: black; font-size: 8pt; overflow: visible; border-style: none; padding: 0px;"><span style="color: #0000ff;">GROUP</span> <span style="color: #0000ff;">BY</span> TaxonFamily</pre>
<!--CRLF--></div>
</div>
<h2>9、统计每一个大类群(蕨类、苔藓、双子叶等)有的科、属、种的数目</h2>
<p><a href="http://blog.cnpc.ac.cn/images/2010-12-12_210829.png"><img style="background-image: none; padding-left: 0px; padding-right: 0px; display: inline; padding-top: 0px; border-width: 0px;" title="2010-12-12_210829" src="http://blog.cnpc.ac.cn/images/2010-12-12_210829_thumb.png" border="0" alt="2010-12-12_210829" width="244" height="204" /></a></p>
<p>
<pre class="brush: sql;">--统计大类群的科、属、类群数目
SELECT  TaxonGroup ,
        COUNT(DISTINCT ( TaxonFamily )) AS FamilyNumber ,
        COUNT(DISTINCT ( TaxonGenus )) AS GenusNumber ,
        COUNT(Id) AS TaxonNumber
FROM    dbo.Taxons
GROUP BY TaxonGroup
ORDER BY FamilyNumber DESC

--统计大类群的科、属、类群数目
SELECT  TaxonGroup ,
        COUNT(DISTINCT ( TaxonFamily )) AS FamilyNumber ,
        COUNT(DISTINCT ( TaxonGenus )) AS GenusNumber ,
        COUNT(Id) AS SpeciesNumber
FROM    dbo.Taxons
WHERE   [RANK] = 'species'
GROUP BY TaxonGroup
ORDER BY FamilyNumber DESC</pre>
</p>
<p class='post-footer'>
       original link:
       <a href='http://Apiaceae.github.io/blog/2010/12/12/sqle5a682e4bd95e4bb8ee58d95e4b8aae585b7e69c89e9878de5a48de9a1b9e79a84e8a1a8e4b8ade88eb7e5be97e7bb9fe8aea1e695b0e68dae/'>http://Apiaceae.github.io/blog/2010/12/12/sqle5a682e4bd95e4bb8ee58d95e4b8aae585b7e69c89e9878de5a48de9a1b9e79a84e8a1a8e4b8ade88eb7e5be97e7bb9fe8aea1e695b0e68dae/</a><br/>
       &nbsp;written by <a href='http://Apiaceae.github.io'>Hooker</a>
       &nbsp;posted at <a href='http://Apiaceae.github.io'>http://Apiaceae.github.io</a>
       </p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/12/09/e4b8ade59bbde69c89e5a49ae5b091e9ab98e7ad89e6a48de789a9efbc9f/">中国有多少高等植物？</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-12-09T00:00:00+08:00" pubdate data-updated="true">Dec 9<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://blog.cnpc.ac.cn/images/image_5.png"><img style="border-bottom: 0px; border-left: 0px; display: inline; border-top: 0px; border-right: 0px" title="image" border="0" alt="image" src="http://blog.cnpc.ac.cn/images/image_thumb_5.png" width="483" height="590" /></a> </p>  <p>上面这个图是澳大利亚国家环境保护部发布的信息，从上面这个图看中国特有的维管植物连12000种都不到，实在匪夷所思。无论从哪个文献和著作中也没有发现有这样的数据报道。我在这里给他更新一下。中国高等植物的种数目已经是3万9千余种，特有的是1万6千多种，占几乎一半。澳大利亚的科学家该打屁股了！</p>
<p class='post-footer'>
       original link:
       <a href='http://Apiaceae.github.io/blog/2010/12/09/e4b8ade59bbde69c89e5a49ae5b091e9ab98e7ad89e6a48de789a9efbc9f/'>http://Apiaceae.github.io/blog/2010/12/09/e4b8ade59bbde69c89e5a49ae5b091e9ab98e7ad89e6a48de789a9efbc9f/</a><br/>
       &nbsp;written by <a href='http://Apiaceae.github.io'>Hooker</a>
       &nbsp;posted at <a href='http://Apiaceae.github.io'>http://Apiaceae.github.io</a>
       </p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/12/02/e4b8ade59bbde9ab98e7ad89e6a48de789a9e4bfa1e681afe7b3bbe7bb9fe696b0e78988e4b88ae7babfe6b58be8af95/">中国高等植物信息系统新版上线测试</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-12-02T00:00:00+08:00" pubdate data-updated="true">Dec 2<span>nd</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://www.cnpc.ac.cn" target="_blank">中国高等植物信息系统</a>经过一段时间的开发和调试，现在开发部分功能上线进行测试。欢迎你试用并提出意见。</p>  <p><a href="http://blog.cnpc.ac.cn/images/2010-12-02_022308.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="2010-12-02_022308" border="0" alt="2010-12-02_022308" src="http://blog.cnpc.ac.cn/images/2010-12-02_022308_thumb.png" width="579" height="303" /></a></p>  <h3>分类树：AJAX Json异步加载，约4万个节点</h3>  <p><a href="http://blog.cnpc.ac.cn/images/image.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://blog.cnpc.ac.cn/images/image_thumb.png" width="220" height="379" /></a></p>    <h3>动态图表：OpenFlashChart, MSChart</h3>  <p><a href="http://blog.cnpc.ac.cn/images/image_1.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://blog.cnpc.ac.cn/images/image_thumb_1.png" width="397" height="332" /></a></p>  <p><a href="http://blog.cnpc.ac.cn/images/image_2.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://blog.cnpc.ac.cn/images/image_thumb_2.png" width="403" height="353" /></a></p>  <p>&#160;</p>  <h3>全文检索：Lucene.NET</h3>  <p>目前只提供有关物种描述文本信息的全文检索，稍后将实现全站索引检索</p>  <p><a href="http://blog.cnpc.ac.cn/images/image_3.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://blog.cnpc.ac.cn/images/image_thumb_3.png" width="481" height="372" /></a></p>    <h3>新闻-事件-地图</h3>  <p><a href="http://blog.cnpc.ac.cn/images/image_4.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://blog.cnpc.ac.cn/images/image_thumb_4.png" width="487" height="364" /></a></p>  <h3>物种详细信息-用户评论/评分-图片浏览</h3>  <p><a href="http://blog.cnpc.ac.cn/images/2010-12-02_143350_%E5%89%AF%E6%9C%AC.jpg"><img style="background-image: none; border-bottom: 0px; border-left: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top: 0px; border-right: 0px; padding-top: 0px" title="2010-12-02_143350_副本" border="0" alt="2010-12-02_143350_副本" src="http://blog.cnpc.ac.cn/images/2010-12-02_143350_%E5%89%AF%E6%9C%AC_thumb.jpg" width="522" height="392" /></a></p>
<p class='post-footer'>
       original link:
       <a href='http://Apiaceae.github.io/blog/2010/12/02/e4b8ade59bbde9ab98e7ad89e6a48de789a9e4bfa1e681afe7b3bbe7bb9fe696b0e78988e4b88ae7babfe6b58be8af95/'>http://Apiaceae.github.io/blog/2010/12/02/e4b8ade59bbde9ab98e7ad89e6a48de789a9e4bfa1e681afe7b3bbe7bb9fe696b0e78988e4b88ae7babfe6b58be8af95/</a><br/>
       &nbsp;written by <a href='http://Apiaceae.github.io'>Hooker</a>
       &nbsp;posted at <a href='http://Apiaceae.github.io'>http://Apiaceae.github.io</a>
       </p></div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/6/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/4/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>About Me</h1>
  <p>A little something about me.</p>
</section>
<section>
  <h2>What did I read</h2>
  <div>
    <script type="text/javascript" src="http://www.douban.com/service/badge/57046744/?show=collection&amp;select=random&amp;n=8&amp;columns=2&amp;cat=book" ></script>
    </div>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/09/24/move-to-octopress/">Move to Octopress</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/09/03/nginx/">Nginx内核参数相关的优化设定说明</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/09/03/lamp/">LAMP系统性能调优</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/09/02/hello-jekyll-world/">Hello Jekyll World</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/07/15/sublimetext2%E8%B6%85%E5%BC%BA%E7%9A%84%E6%96%87%E6%9C%AC%E7%BC%96%E8%BE%91%E5%99%A8/">SublimeText2超强的文本编辑器</a>
      </li>
    
  </ul>
</section>
<section>
  <h1>Categories</h1>
  <ul id="categories">
    <li class='category'><a href='/blog/categories/asp-net/'>ASP.NET (3)</a></li>
<li class='category'><a href='/blog/categories/biodiversity-informatics/'>Biodiversity Informatics (5)</a></li>
<li class='category'><a href='/blog/categories/git/'>Git (1)</a></li>
<li class='category'><a href='/blog/categories/linux/'>Linux (7)</a></li>
<li class='category'><a href='/blog/categories/linux/'>linux (1)</a></li>
<li class='category'><a href='/blog/categories/伞形科/'>伞形科 (1)</a></li>
<li class='category'><a href='/blog/categories/分类学/'>分类学 (1)</a></li>
<li class='category'><a href='/blog/categories/工具/'>工具 (1)</a></li>
<li class='category'><a href='/blog/categories/技巧/'>技巧 (1)</a></li>
<li class='category'><a href='/blog/categories/物种分布模型/'>物种分布模型 (1)</a></li>
<li class='category'><a href='/blog/categories/生物地理/'>生物地理 (2)</a></li>
<li class='category'><a href='/blog/categories/生物地理学/'>生物地理学 (3)</a></li>
<li class='category'><a href='/blog/categories/生物多样性信息学/'>生物多样性信息学 (7)</a></li>
<li class='category'><a href='/blog/categories/科学社会网络/'>科学社会网络 (1)</a></li>
<li class='category'><a href='/blog/categories/随笔/'>随笔 (3)</a></li>

  </ul>
</section>
<section>
  <h1>Tags</h1>
  <ul class="tag-cloud">
    <a style="font-size: 125%" href="/tags/asp-dot-net/">ASP.NET</a>
<a style="font-size: 180%" href="/tags/biodiversity-informatics/">Biodiversity Informatics</a>
<a style="font-size: 70%" href="/tags/lsid/">LSID</a>
<a style="font-size: 125%" href="/tags/linux/">Linux</a>
<a style="font-size: 70%" href="/tags/mapping/">Mapping</a>
<a style="font-size: 70%" href="/tags/sdm/">SDM</a>
<a style="font-size: 70%" href="/tags/specimens/">Specimens</a>
<a style="font-size: 70%" href="/tags/etaxonomy/">etaxonomy</a>
<a style="font-size: 157%" href="/tags/ubuntu/">ubuntu</a>
<a style="font-size: 70%" href="/tags/bao-hu/">保护</a>
<a style="font-size: 157%" href="/tags/xin-qing/">心情</a>
<a style="font-size: 70%" href="/tags/biao-ben-shu-zi-hua/">标本数字化</a>
<a style="font-size: 157%" href="/tags/sheng-huo/">生活</a>
<a style="font-size: 180%" href="/tags/sheng-wu-duo-yang-xing-xin-xi-xue/">生物多样性信息学</a>
<a style="font-size: 157%" href="/tags/sui-bi/">随笔</a>

  </ul>
</section><section>
  
  <h1>Visitors</h1>
    <div id="clustrmaps-widget"></div><script type="text/javascript">
var _clustrmaps = {'url' : 'http://apiaceae.github.io', 'user' : 1114201, 'server' : '2', 'id' : 'clustrmaps-widget', 'version' : 1, 'date' : '2013-09-25', 'lang' : 'en', 'corners' : 'square' };
    (function ()
    { var s = document.createElement('script'); s.type = 'text/javascript'; s.async = true; s.src = 'http://www2.clustrmaps.com/counter/map.js'; var x = document.getElementsByTagName('script')[0]; x.parentNode.insertBefore(s, x);})();
    </script><noscript><a href="http://www2.clustrmaps.com/user/195110059"><img src="http://www2.clustrmaps.com/stats/maps-no_clusters/apiaceae.github.io-thumb.jpg" alt="Locations of visitors to this page"></a></noscript>

    <a href="http://info.flagcounter.com/wAs5"><img src="http://s07.flagcounter.com/count/wAs5/bg_FFFFFF/txt_000000/border_CCCCCC/columns_2/maxflags_12/viewers_0/labels_0/pageviews_0/flags_0/" alt="Flag Counter" border="0"></a>


</section>




  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Hooker -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
